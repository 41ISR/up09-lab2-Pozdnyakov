# Техническое задание на разработку чата

## Цель
Разработать веб-приложение чата с использованием **React**, **TypeScript**, **Zustand**, **Socket.IO** и **Axios**.

## Функциональные требования

### 1. Экран входа
- Пользователь вводит свой уникальный **ID**.
- Кнопка для входа в чат.
- Валидация ID (например, не пустое поле).

### 2. Основной экран (после входа)
- **Структура страницы:**
  - Левый сайдбар.
  - Правая часть — область чата.

### 3. Сайдбар
- **Вкладка "Чаты":** список чатов пользователя.
  - Отображение имени контакта и последнего сообщения.
  - Возможность выбрать чат для отображения в правой части.
- **Вкладка "Контакты":** список всех пользователей.
  - Возможность начать новый чат, выбрав пользователя.

### 4. Область чата
- Отображение сообщений выбранного чата.
- Поле для ввода нового сообщения.
- Кнопка для отправки сообщения.
- Поддержка мгновенного отображения новых сообщений.

## Нефункциональные требования

- Использовать **React** для создания интерфейса.
- Использовать **TypeScript** для типизации.
- Состояние управляется с помощью **Zustand**.
- Для взаимодействия с сервером использовать **Axios**.
- Адаптивный дизайн (удобство использования на разных экранах).

## Архитектура приложения

### 1. Компоненты
- `LoginScreen`
- `MainScreen`
  - `Sidebar`
    - `ChatList`
    - `ContactsList`
  - `ChatWindow`
    - `MessageList`
    - `MessageInput`

### 2. Состояние (Zustand)
- Пользовательские данные (ID, активный чат).
- Список чатов и сообщений.

### 3. API взаимодействие (Axios)
- Авторизация (отправка ID).

### 4. WebSocket (Socket.IO)
- Получение списка пользователей.
- Получение и отправка сообщений.

## Критерии оценки

- Корректная работа всех функций.
- Чистота и читаемость кода.
- Структурированность проекта.
- Обработка ошибок и валидация данных.
- Визуальное оформление и пользовательский опыт.

## Дополнительно

- Реализовать индикацию активности пользователя (онлайн/офлайн).
- Поддержка отправки сообщений в режиме реального времени (по желанию).

# API

`82.147.71.186:3000`

Для codespace

`api.ktkv.dev`

## HTTP эндпоинты:

POST /login – Регистрация или авторизация пользователя

    Входные данные: { "id": "user1" }
    Ответ: 200 OK, возвращает объект пользователя { "id": "user1" }
    Ошибки: 400 Bad Request, если id не передан.

GET /messages/:id – Получение истории сообщений пользователя

    Входные данные: id в параметре пути (/messages/user1)
    Ответ: 200 OK, массив сообщений, где from или to совпадает с id.


## WebSocket события:

register – Регистрация пользователя в WebSocket-соединении

    Входные данные: id пользователя
    Действие: Привязывает socketId к id, отправляет обновленный список пользователей всем клиентам.

private_message – Отправка личного сообщения

    Входные данные: { "to": "user2", "message": "Hello" }
    Действие: Пересылает сообщение получателю, если он в сети, и сохраняет в истории.

disconnect – Отключение пользователя

    Действие: Удаляет пользователя из списка и отправляет обновленный список клиентам.

# References

- [Слайды](https://ktkv-presentations.github.io/up09-lab2-pres/)
- [Backend](https://github.com/41ISR/up09-lab2-be)
- [Frontend](https://github.com/41ISR/up09-lab2-fe)
- [MyQuiz](https://play.myquiz.ru/p/00769407) (00769407)
